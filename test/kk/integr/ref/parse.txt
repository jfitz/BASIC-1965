10 DEF FNF(X) = X^2 + 3*X + 1
 Value:X
 NumericConstant:2
 BinaryOperator:^
 NumericConstant:3
 Value:X
 BinaryOperator:*
 BinaryOperator:+
 NumericConstant:1
 BinaryOperator:+
20 READ A, B, E
 Reference:A
 Reference:B
 Reference:E
30 PRINT "TRAPEZOID", "MIDPOINT", "SIMPSON"
 ITEMS
 TextConstant:"TRAPEZOID"
 CarriageControl:,
 TextConstant:"MIDPOINT"
 CarriageControl:,
 TextConstant:"SIMPSON"
 CarriageControl:NL
40 LET H = B-A
 Reference:H
 Value:B
 Value:A
 BinaryOperator:-
 AssignmentOperator:=
50 LET T = (FNF(A)+FNF(B))*H
 Reference:T
 Value:A
 UserFunction
 Value:B
 UserFunction
 BinaryOperator:+
 Value:H
 BinaryOperator:*
 AssignmentOperator:=
60 LET M = 0
 Reference:M
 NumericConstant:0
 AssignmentOperator:=
100 LET T = (T+M)/2
 Reference:T
 Value:T
 Value:M
 BinaryOperator:+
 NumericConstant:2
 BinaryOperator:/
 AssignmentOperator:=
120 LET M = 0
 Reference:M
 NumericConstant:0
 AssignmentOperator:=
130 FOR X = A+H/2 TO B STEP H
 control: Variable:X
 start:   ["Value:A", "Value:H", "NumericConstant:2", "BinaryOperator:/", "BinaryOperator:+"]
 end:     ["Value:B"]
 step:    ["Value:H"]
140 LET M = M + FNF(X)
 Reference:M
 Value:M
 Value:X
 UserFunction
 BinaryOperator:+
 AssignmentOperator:=
150 NEXT X
 Variable:X
160 LET M = M*H
 Reference:M
 Value:M
 Value:H
 BinaryOperator:*
 AssignmentOperator:=
170 LET S = (T + 2*M)/3
 Reference:S
 Value:T
 NumericConstant:2
 Value:M
 BinaryOperator:*
 BinaryOperator:+
 NumericConstant:3
 BinaryOperator:/
 AssignmentOperator:=
180 PRINT T, M, S
 ITEMS
 Value:T
 CarriageControl:,
 Value:M
 CarriageControl:,
 Value:S
 CarriageControl:NL
185 LET H = H/2
 Reference:H
 Value:H
 NumericConstant:2
 BinaryOperator:/
 AssignmentOperator:=
190 IF ABS(T-M)/ABS(S) > E THEN 100
 Value:T
 Value:M
 BinaryOperator:-
 FunctionAbs
 Value:S
 FunctionAbs
 BinaryOperator:/
 Value:E
 BinaryOperator:>
900 DATA 1, 5
 NumericConstant:1
 NumericConstant:5
910 DATA 1E-6
 NumericConstant:1.0e-06
999 END
 
